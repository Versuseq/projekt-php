{% extends 'base.html.twig' %}

{% block title %}{{'dishes'|trans}}{% endblock %}

{% block body %}
<h1>{{'dishes'|trans}}</h1>
{% if is_granted('ROLE_ADMIN')%}
<a href="{{path('dishes_add_dish')}}" class="btn btn-outline-primary">&#x2b; {{'add_dish'|trans}}</a>
<a href="{{path('dishes_add_section')}}" class="btn btn-outline-primary">&#x2b; {{'add_section'|trans}}</a>
<a href="{{path('dishes_add_category')}}" class="btn btn-outline-primary">&#x2b; {{'add_category'|trans}}</a>
{% endif %}
<table class="table table-striped table-hover">
    <tr>
        <th>ID</th>
        <th>{{'name'|trans}}</th>
        <th>{{'description'|trans}}</th>
        <th>{{'section'|trans}}</th>
        <th>{{'category'|trans}}</th>
        <th>{{'price'|trans}}</th>
        <th>{{'action'|trans}}</th>
    </tr>
    {% for dish in dishes %}
        <tr>
            <td>{{dish.id}}</td>
            <td>{{dish.EnUsName}}</td>
            <td>{{dish.EnUsDescription}}</td>
            <td>{{dish.Section.Name}}</td>
            <td>{{dish.Category|join(', ')}}</td>
            <td>{{dish.Price}}</td>
            <td>
                <a href="{{path('dishes_edit', {id: dish.id})}}" class="btn btn-outline-warning">{{'edit'|trans}}</a>
                <a href="{{path('dishes_delete', {id: dish.id})}}" class="btn btn-outline-danger">{{'delete'|trans}}</a>
            </td>
        </tr>
    {% else %}
    <tr>
        <th colspan="7">{{'no_dishes'|trans}}</th>
    </tr>
    {% endfor %}
</table>
{% endblock %}
